# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ –≤ Telegram-–±–æ—Ç–µ "–ß—Ç–æ –ë—ã –ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å"

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –ß–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤

–°–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤:

1. **‚è≥ PENDING_PAYMENT** - –ó–∞–∫–∞–∑ –æ–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
2. **üí∞ PAYMENT_RECEIVED** - –ó–∞–∫–∞–∑ –æ–ø–ª–∞—á–µ–Ω, –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è  
3. **üë©‚Äçüç≥ CONFIRMED** - –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞, –Ω–∞—á–∏–Ω–∞—é –≥–æ—Ç–æ–≤–∏—Ç—å
4. **üéâ READY** - –ó–∞–∫–∞–∑ –≥–æ—Ç–æ–≤, –º–æ–∂–Ω–æ –∑–∞–±–∏—Ä–∞—Ç—å
5. **‚ùå CANCELLED_BY_CLIENT** - –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω –∫–ª–∏–µ–Ω—Ç–æ–º
6. **‚ùå CANCELLED_BY_MASTER** - –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω –º–∞—Å—Ç–µ—Ä–æ–º

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:
- **üõí CART** - –ö–æ—Ä–∑–∏–Ω–∞ (—á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–∫–∞–∑–∞)
- **‚úÖ COMPLETED** - –ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω (–∑–∞–±—Ä–∞–Ω/–¥–æ—Å—Ç–∞–≤–ª–µ–Ω)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

**–í `app/database/models.py`:**
- –û–±–Ω–æ–≤–ª–µ–Ω enum `OrderStatus` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `is_active` –∏ `is_completed` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤

**–í `app/services/order.py`:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `update_payment_screenshot()` - —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `PAYMENT_RECEIVED`
- –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `cancel_order()` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `CANCELLED_BY_CLIENT`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `OrderStatus` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è enum

### 4. –ê–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏

**–í `app/handlers/admin/admin_panel.py`:**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `confirm_payment()` - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏–∑ `PAYMENT_RECEIVED` –≤ `CONFIRMED`
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `reject_payment()` - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏–∑ `PAYMENT_RECEIVED` –≤ `CANCELLED_BY_MASTER`
- –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `set_order_ready()` - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏–∑ `CONFIRMED` –≤ `READY`
- –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `set_order_completed()` - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏–∑ `READY` –≤ `COMPLETED`
- –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `cancel_order_by_master()` - –æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

### 5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–æ–≤

**–í `app/handlers/user/orders.py`:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–º–µ–Ω—ã
- –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `confirm_cancel_order()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ã
- –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `final_cancel_order()` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–º

**–í `app/keyboards/user.py`:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `can_cancel` –≤ —Ñ—É–Ω–∫—Ü–∏—é `get_order_details_keyboard()`
- –ö–Ω–æ–ø–∫–∞ "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑" –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤

### 6. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã –∏ –ø–µ—Ä–µ–≤–æ–¥—ã

**–í `app/utils/texts.py`:**
- –°–ª–æ–≤–∞—Ä—å `ORDER_STATUSES` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ —ç–º–æ–¥–∑–∏
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª `FAQ_STATUSES` —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤
- –í—Å–µ —Ç–µ–∫—Å—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–µ —Å—Ç–∞—Ç—É—Å–æ–≤

### 7. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

- –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –∏–∑ –º–æ–¥–µ–ª–∏ `OrderStatus` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ `ORDER_STATUSES`
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
- –ò–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞

```
CART ‚Üí PENDING_PAYMENT ‚Üí PAYMENT_RECEIVED ‚Üí CONFIRMED ‚Üí READY ‚Üí COMPLETED
                ‚Üì              ‚Üì              ‚Üì         ‚Üì
        CANCELLED_BY_CLIENT  CANCELLED_BY_MASTER (–Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ)
```

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

- **–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã (PENDING_PAYMENT, PAYMENT_RECEIVED)**: –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
- **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã (COMPLETED, READY)**: –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–∫–∞–∑
- **–í—Å–µ –∑–∞–∫–∞–∑—ã**: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –∏ —Å—Ç–∞—Ç—É—Å–∞

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

- **PAYMENT_RECEIVED**: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –æ–ø–ª–∞—Ç—É
- **CONFIRMED**: –û—Ç–º–µ—Ç–∏—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞
- **READY**: –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–¥–∞—á—É –∑–∞–∫–∞–∑–∞
- **–õ—é–±–æ–π –∞–∫—Ç–∏–≤–Ω—ã–π**: –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
1. ‚úÖ –ß–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏
3. ‚úÖ –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–∫–∞–∑—ã –Ω–∞ —Ä–∞–Ω–Ω–∏—Ö —Å—Ç–∞–¥–∏—è—Ö
4. ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º–∏ –∑–∞–∫–∞–∑–∞–º–∏
5. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
6. ‚úÖ –í FAQ –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

Telegram-–±–æ—Ç –≥–æ—Ç–æ–≤ –∫ production-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏.
